var c=(r,p,u)=>new Promise((l,d)=>{var P=s=>{try{N(u.next(s))}catch(U){d(U)}},I=s=>{try{N(u.throw(s))}catch(U){d(U)}},N=s=>s.done?l(s.value):Promise.resolve(s.value).then(P,I);N((u=u.apply(r,p)).next())});import{aA as A,Q as O,j as x,o as R,d as g,w as o,c as e,aY as b,f as a,a2 as m,aD as D,_ as w,y as M,z as E,V as _,U as y,a1 as H,a_ as k,a$ as B,e as T}from"./index-5d6b5a6a.js";import{V as S,a as n}from"./VRow-1f85bbf5.js";import{V as v}from"./VForm-45b97a38.js";import{V as j}from"./VTextarea-fe801e1b.js";import{V,b as f,a as G,c as $}from"./VCard-df5c671c.js";import{V as W}from"./VDialog-908f6831.js";const C={save:(r,p)=>A.post(`/server/game_config?restart=${p}`,r),get:()=>A.get("/server/game_config")},i=O({loading:!1}),t=x({Difficulty:null,DayTimeSpeedRate:1,NightTimeSpeedRate:1,ExpRate:1,PalCaptureRate:1,PalSpawnNumRate:1,PalDamageRateAttack:1,PalDamageRateDefense:1,PlayerDamageRateAttack:1,PlayerDamageRateDefense:1,PlayerStomachDecreaceRate:1,PlayerStaminaDecreaceRate:1,PlayerAutoHPRegeneRate:1,PlayerAutoHpRegeneRateInSleep:1,PalStomachDecreaceRate:1,PalStaminaDecreaceRate:1,PalAutoHPRegeneRate:1,PalAutoHpRegeneRateInSleep:1,BuildObjectDamageRate:1,BuildObjectDeteriorationDamageRate:1,CollectionDropRate:1,CollectionObjectHpRate:1,CollectionObjectRespawnSpeedRate:1,EnemyDropItemRate:1,DeathPenalty:"ITEM_AND_EQUIPMENT",bEnableAimAssistPad:!0,bEnableAimAssistKeyboard:!1,DropItemMaxNum:3e3,BaseCampMaxNum:128,BaseCampWorkerMaxNum:15,DropItemAliveMaxHours:1,bAutoResetGuildNoOnlinePlayers:!1,AutoResetGuildTimeNoOnlinePlayers:72,GuildPlayerMaxNum:20,PalEggDefaultHatchingTime:72,WorkSpeedRate:1,CoopPlayerMaxNum:4,ServerPlayerMaxNum:32,ServerName:"Default Palworld Server",ServerDescription:"",AdminPassword:"123456",ServerPassword:"",PublicPort:8211,PublicIP:"",RCONEnabled:!0,RCONPort:25575});function K(){return c(this,null,function*(){i.loading=!0;try{const r=yield C.get();t.value=r}catch(r){console.error(r)}i.loading=!1})}function q(r=!1){return c(this,null,function*(){i.loading=!0;try{const p=yield C.save(t.value,r)}catch(p){}i.loading=!1})}const z={__name:"GameSettings",setup(r){const p=[{title:"休闲模式",value:"Casual"},{title:"普通模式",value:"Normal"},{title:"困难模式",value:"Hard"}];return(u,l)=>(R(),g(v,{onSubmit:D(()=>{},["prevent"])},{default:o(()=>[e(S,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(b,{modelValue:a(t).Difficulty,"onUpdate:modelValue":l[0]||(l[0]=d=>a(t).Difficulty=d),items:p,label:"游戏难度",variant:"outlined",placeholder:"设置游戏的难度"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).DayTimeSpeedRate,"onUpdate:modelValue":l[1]||(l[1]=d=>a(t).DayTimeSpeedRate=d),label:"白天时长倍率",type:"number",placeholder:"白天时间倍率，大于1变快，小于1加变慢"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).NightTimeSpeedRate,"onUpdate:modelValue":l[2]||(l[2]=d=>a(t).NightTimeSpeedRate=d),label:"夜晚时长倍率",type:"number",placeholder:"夜晚时间的倍率，大于1变快，小于1加变慢"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).ExpRate,"onUpdate:modelValue":l[3]||(l[3]=d=>a(t).ExpRate=d),label:"经验值倍率",type:"number",placeholder:"经验值的倍率，大于1变快，小于1加变慢"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalCaptureRate,"onUpdate:modelValue":l[4]||(l[4]=d=>a(t).PalCaptureRate=d),label:"帕鲁捕获成功倍率",type:"number",placeholder:"帕鲁捕获成功倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalSpawnNumRate,"onUpdate:modelValue":l[5]||(l[5]=d=>a(t).PalSpawnNumRate=d),label:"帕鲁生成数量倍率",placeholder:"帕鲁生成数量倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).WorkSpeedRate,"onUpdate:modelValue":l[6]||(l[6]=d=>a(t).WorkSpeedRate=d),label:"工作速度倍率",placeholder:"工作速度倍率"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}},F={__name:"ItemSettings",setup(r){return(p,u)=>(R(),g(v,{onSubmit:D(()=>{},["prevent"])},{default:o(()=>[e(S,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).BuildObjectDamageRate,"onUpdate:modelValue":u[0]||(u[0]=l=>a(t).BuildObjectDamageRate=l),label:"建筑伤害倍率",type:"number",placeholder:"建筑伤害倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).BuildObjectDeteriorationDamageRate,"onUpdate:modelValue":u[1]||(u[1]=l=>a(t).BuildObjectDeteriorationDamageRate=l),type:"number",label:"建筑在一段时间类受到的伤害倍率",placeholder:"建筑在一段时间类受到的伤害倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).CollectionDropRate,"onUpdate:modelValue":u[2]||(u[2]=l=>a(t).CollectionDropRate=l),label:"树木/岩石等材料掉落倍率",type:"number",placeholder:"树木/岩石等材料掉落倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).CollectionObjectHpRate,"onUpdate:modelValue":u[3]||(u[3]=l=>a(t).CollectionObjectHpRate=l),label:"树木/岩石等材料血量倍率",type:"number",placeholder:"树木/岩石等材料血量倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).CollectionObjectRespawnSpeedRate,"onUpdate:modelValue":u[4]||(u[4]=l=>a(t).CollectionObjectRespawnSpeedRate=l),label:"树木/岩石等材料刷新倍率",type:"number",placeholder:"树木/岩石等材料刷新倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).EnemyDropItemRate,"onUpdate:modelValue":u[5]||(u[5]=l=>a(t).EnemyDropItemRate=l),label:"敌人掉落倍率",type:"number",placeholder:"敌人掉落倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).DropItemMaxNum,"onUpdate:modelValue":u[6]||(u[6]=l=>a(t).DropItemMaxNum=l),label:"一次允许丢弃的最大物品数量",type:"number",placeholder:"一次允许丢弃的最大物品数量"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).BaseCampMaxNum,"onUpdate:modelValue":u[7]||(u[7]=l=>a(t).BaseCampMaxNum=l),label:"一次允许建造的最大基地数量",type:"number",placeholder:"一次允许建造的最大基地数量"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).BaseCampWorkerMaxNum,"onUpdate:modelValue":u[8]||(u[8]=l=>a(t).BaseCampWorkerMaxNum=l),label:"基地中可以容纳的最大工人伙伴数量",type:"number",placeholder:"基地中可以容纳的最大工人伙伴数量"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).DropItemAliveMaxHours,"onUpdate:modelValue":u[9]||(u[9]=l=>a(t).DropItemAliveMaxHours=l),label:"掉落物品停留时长(小时)",type:"number",placeholder:"掉落物品停留时长"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}},Q={__name:"PalSettings",setup(r){return(p,u)=>(R(),g(v,{onSubmit:D(()=>{},["prevent"])},{default:o(()=>[e(S,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalDamageRateAttack,"onUpdate:modelValue":u[0]||(u[0]=l=>a(t).PalDamageRateAttack=l),label:"帕鲁攻击伤害倍率",type:"number",placeholder:"帕鲁攻击伤害倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalDamageRateDefense,"onUpdate:modelValue":u[1]||(u[1]=l=>a(t).PalDamageRateDefense=l),label:"帕率受到的伤害倍率",type:"number",placeholder:"帕率受到的伤害倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalStomachDecreaceRate,"onUpdate:modelValue":u[2]||(u[2]=l=>a(t).PalStomachDecreaceRate=l),label:"帕率食物消耗倍率",type:"number",placeholder:"帕率食物消耗倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalStaminaDecreaceRate,"onUpdate:modelValue":u[3]||(u[3]=l=>a(t).PalStaminaDecreaceRate=l),label:"帕率耐力消耗倍率",type:"number",placeholder:"帕率耐力消耗倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalAutoHPRegeneRate,"onUpdate:modelValue":u[4]||(u[4]=l=>a(t).PalAutoHPRegeneRate=l),label:"帕鲁自动回复hp倍率",type:"number",placeholder:"帕鲁自动回复hp倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalAutoHpRegeneRateInSleep,"onUpdate:modelValue":u[5]||(u[5]=l=>a(t).PalAutoHpRegeneRateInSleep=l),label:"帕鲁睡觉时自动回复hp倍率",type:"number",placeholder:"帕鲁睡觉时自动回复hp倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PalEggDefaultHatchingTime,"onUpdate:modelValue":u[6]||(u[6]=l=>a(t).PalEggDefaultHatchingTime=l),label:"帕鲁蛋孵化时间",type:"number",placeholder:"帕鲁蛋孵化时间"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}},Y={__name:"PlayerSettings",setup(r){const p=[{title:"不掉落",value:"None"},{title:"掉落未装备的物品",value:"Item"},{title:"掉落携带的所有物品",value:"ItemAndEquipment"},{title:"掉落携带的所有(包括宠物，宠物掉回库存)",value:"All"}];return(u,l)=>(R(),g(v,{onSubmit:D(()=>{},["prevent"])},{default:o(()=>[e(S,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(b,{modelValue:a(t).bEnableAimAssistPad,"onUpdate:modelValue":l[0]||(l[0]=d=>a(t).bEnableAimAssistPad=d),items:[{title:"允许",value:!0},{title:"不允许",value:!1}],label:"是否允许你开启/关闭瞄准辅助(可能已弃用)",variant:"outlined",placeholder:"是否允许你开启/关闭瞄准辅助"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(b,{modelValue:a(t).bEnableAimAssistKeyboard,"onUpdate:modelValue":l[1]||(l[1]=d=>a(t).bEnableAimAssistKeyboard=d),items:[{title:"允许",value:!0},{title:"不允许",value:!1}],label:"是否允许你开启/关闭瞄准辅助(可能已弃用)",variant:"outlined",placeholder:"是否允许你开启/关闭瞄准辅助"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(b,{modelValue:a(t).bAutoResetGuildNoOnlinePlayers,"onUpdate:modelValue":l[2]||(l[2]=d=>a(t).bAutoResetGuildNoOnlinePlayers=d),items:[{title:"开启",value:!0},{title:"关闭",value:!1}],label:"是否开启没有玩家在线的情况下解散工会",variant:"outlined",placeholder:"是否开启没有玩家在线的情况下解散工会"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).bAutoResetGuildNoOnlinePlayers,"onUpdate:modelValue":l[3]||(l[3]=d=>a(t).bAutoResetGuildNoOnlinePlayers=d),label:"不活跃工会的解散时间(小时)",type:"number",placeholder:"不活跃工会的解散时间"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).GuildPlayerMaxNum,"onUpdate:modelValue":l[4]||(l[4]=d=>a(t).GuildPlayerMaxNum=d),label:"最大工会玩家数量",type:"number",placeholder:"不活跃工会的解散时间"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).CoopPlayerMaxNum,"onUpdate:modelValue":l[5]||(l[5]=d=>a(t).CoopPlayerMaxNum=d),label:"群中最大玩家数量",type:"number",placeholder:"群中最大玩家数量"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PlayerDamageRateAttack,"onUpdate:modelValue":l[6]||(l[6]=d=>a(t).PlayerDamageRateAttack=d),label:"玩家造成的伤害倍率",type:"number",placeholder:"玩家造成的伤害倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PlayerDamageRateDefense,"onUpdate:modelValue":l[7]||(l[7]=d=>a(t).PlayerDamageRateDefense=d),label:"玩家受到的伤害倍率",type:"number",placeholder:"玩家受到的伤害倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PlayerStomachDecreaceRate,"onUpdate:modelValue":l[8]||(l[8]=d=>a(t).PlayerStomachDecreaceRate=d),label:"玩家食物消耗倍率",type:"number",placeholder:"玩家食物消耗倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PlayerStaminaDecreaceRate,"onUpdate:modelValue":l[9]||(l[9]=d=>a(t).PlayerStaminaDecreaceRate=d),label:"玩家耐力消耗倍率",type:"number",placeholder:"玩家耐力消耗倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PlayerAutoHPRegeneRate,"onUpdate:modelValue":l[10]||(l[10]=d=>a(t).PlayerAutoHPRegeneRate=d),label:"玩家自动回复hp倍率",type:"number",placeholder:"玩家自动回复hp倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PlayerAutoHpRegeneRateInSleep,"onUpdate:modelValue":l[11]||(l[11]=d=>a(t).PlayerAutoHpRegeneRateInSleep=d),label:"玩家睡觉时自动回复hp倍率",type:"number",placeholder:"玩家睡觉时自动回复hp倍率"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(b,{modelValue:a(t).DeathPenalty,"onUpdate:modelValue":l[12]||(l[12]=d=>a(t).DeathPenalty=d),items:p,label:"死亡掉落",variant:"outlined",placeholder:"设置死亡掉落"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}},J={__name:"ServerSettings",setup(r){return(p,u)=>(R(),g(v,{onSubmit:D(()=>{},["prevent"])},{default:o(()=>[e(S,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).ServerName,"onUpdate:modelValue":u[0]||(u[0]=l=>a(t).ServerName=l),label:"服务器名称",placeholder:"用于在游戏客户端展示的名称"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(j,{label:"服务器介绍","auto-grow":"",variant:"outlined",placeholder:"用于在游戏客户端所显示的介绍",modelValue:a(t).ServerDescription,"onUpdate:modelValue":u[1]||(u[1]=l=>a(t).ServerDescription=l),rows:"3","row-height":"25",shaped:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).ServerPassword,"onUpdate:modelValue":u[2]||(u[2]=l=>a(t).ServerPassword=l),label:"服务器密码",placeholder:"玩家加入服务器时需要输入的密码"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).AdminPassword,"onUpdate:modelValue":u[3]||(u[3]=l=>a(t).AdminPassword=l),label:"管理员密码",placeholder:"进行管理员操作时需要输入的密码"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PublicPort,"onUpdate:modelValue":u[4]||(u[4]=l=>a(t).PublicPort=l),label:"公开服务器端口",placeholder:"服务器公开的端口，用于在服务器搜索的时候用"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).PublicIP,"onUpdate:modelValue":u[5]||(u[5]=l=>a(t).PublicIP=l),label:"公开服务器IP",type:"number",placeholder:"服务器公开的IP，用于在服务器搜索的时候用"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(b,{modelValue:a(t).RCONEnabled,"onUpdate:modelValue":u[6]||(u[6]=l=>a(t).RCONEnabled=l),items:[{title:"启用",value:!0},{title:"关闭",value:!1}],label:"是否启用RCON",variant:"outlined",placeholder:"开启RCON服务，远程管理基于这个"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).RCONPort,"onUpdate:modelValue":u[7]||(u[7]=l=>a(t).RCONPort=l),label:"RCON服务端口",type:"number",placeholder:"RCON服务的端口，远程管理基于这个"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(m,{modelValue:a(t).ServerPlayerMaxNum,"onUpdate:modelValue":u[8]||(u[8]=l=>a(t).ServerPlayerMaxNum=l),label:"最大玩家数",type:"number",placeholder:"服务器运行的最大玩家数量"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"]))}};const L=r=>(k("data-v-f0c73a0d"),r=r(),B(),r),X={class:"form"},Z=L(()=>T("div",{"flex-1":""},null,-1)),h={__name:"index",setup(r){const p=x(!1);function u(l){return c(this,null,function*(){yield q(l),p.value=!1})}return M(()=>{K()}),(l,d)=>(R(),E("div",X,[e(V,{title:"服务器设置"},{default:o(()=>[e(f,null,{default:o(()=>[e(J)]),_:1})]),_:1}),e(V,{title:"游戏设置","mt-5":""},{default:o(()=>[e(f,null,{default:o(()=>[e(z)]),_:1})]),_:1}),e(V,{title:"物品和建筑物设置","mt-5":""},{default:o(()=>[e(f,null,{default:o(()=>[e(F)]),_:1})]),_:1}),e(V,{title:"玩家设置","mt-5":""},{default:o(()=>[e(f,null,{default:o(()=>[e(Y)]),_:1})]),_:1}),e(V,{title:"帕鲁设置","mt-5":""},{default:o(()=>[e(f,null,{default:o(()=>[e(Q)]),_:1})]),_:1}),e(_,{size:"x-large",class:"save-button",loading:a(i).loading},{default:o(()=>[y(" 保存 "),e(W,{modelValue:a(p),"onUpdate:modelValue":d[2]||(d[2]=P=>H(p)?p.value=P:null),activator:"parent",width:"60%"},{default:o(()=>[e(V,null,{default:o(()=>[e(G,null,{default:o(()=>[y(" 信息 ")]),_:1}),e(f,null,{default:o(()=>[y("是否保存配置并重启")]),_:1}),e($,null,{default:o(()=>[Z,e(_,{color:"primary",loading:a(i).loading,onClick:d[0]||(d[0]=P=>u(!0))},{default:o(()=>[y("是")]),_:1},8,["loading"]),e(_,{color:"red",loading:a(i).loading,onClick:d[1]||(d[1]=P=>u(!1))},{default:o(()=>[y("否")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["loading"])]))}},ne=w(h,[["__scopeId","data-v-f0c73a0d"]]);export{ne as default};
